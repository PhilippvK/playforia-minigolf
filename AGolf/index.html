<html>
<head>
    <title>Minigolf Web Client</title>
    <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="script.js"></script>
  <script src="https://cjrtnc.leaningtech.com/2.1/loader.js"></script>
  <!--<script>cheerpjInit();</script>-->
  <script type="text/javascript">
    function createApplet() {
      var app = document.createElement('cheerpj-applet');
      app.setAttribute("archive", "client-2.1.0.0-BETA.jar");
      app.setAttribute("code", "agolf/GameApplet.class");
      app.setAttribute("width", "735");
      app.setAttribute("height", "525");

      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const server = urlParams.get('server')
      //console.log(product);

      var params = {
        "lang": "en_US",
        "locale": "en",
        "server": server+":4242",
        "initmessage": "Loading game...",
        "verbose": "true",
        "startupdebug": "true",
        "is_applet": "true"
      };

      for (var param in params) {
        var p = document.createElement('param');
        p.setAttribute("name", param);
        p.setAttribute("value", params[param]);
        app.appendChild(p);
      }

      document.getElementsByTagName('div')[0].appendChild(app);

      cheerpjInit();
    }
  </script>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<meta charset="utf-8"/>

</head>

<body onload="createApplet()">
  <div><p>Change server <a href="../index.html">here</a><br></p></div>
</body>
</html>
